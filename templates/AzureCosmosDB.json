{"title":"Azure CosmosDB","description":"This dashboard provides key Azure SQL Database metrics so you can monitor your databases' resource consumption and storage capacity and spot potential issues at a glance. For further reading on monitoring Azure SQL Databases: \n\n- [How to monitor Azure SQL Databases with Datadog](https://www.datadoghq.com/blog/monitor-azure-sql-databases-datadog/) \n\n- [Datadogâ€™s Azure SQL Databases integration docs](https://docs.datadoghq.com/integrations/azure_sql_database/). \n\nClone this template dashboard to make changes and add your own graph widgets.","widgets":[{"id":0,"definition":{"type":"timeseries","requests":[{"q":"avg:azure.cosmosdb.data_usage{$tenant,$subscription,$resource_group} by {name}","display_type":"line","style":{"palette":"cool","line_type":"solid","line_width":"normal"}}],"custom_links":[],"yaxis":{"label":"","scale":"linear","min":"auto","max":"auto","include_zero":true},"title":"Total data usage reported","title_size":"16","title_align":"left","show_legend":false,"legend_size":"0"},"layout":{"x":22,"y":22,"width":56,"height":15}},{"id":1,"definition":{"type":"query_value","requests":[{"q":"sum:azure.cosmosdb.count{$tenant,$subscription,$resource_group}","aggregator":"avg"}],"custom_links":[],"title":"CosmosDB Count","title_size":"16","title_align":"left","time":{"live_span":"1h"},"precision":0},"layout":{"x":-1,"y":38,"width":21,"height":15}},{"id":2,"definition":{"type":"image","url":"https://azurecomcdn.azureedge.net/cvt-b52e4eee110e120d59ae446da6d4e14ef0791eb02e5e40b8a6059f5696032e8d/images/page/services/cosmosdb/dev-01-sql-api.svg","sizing":"fit","margin":"large"},"layout":{"x":0,"y":0,"width":21,"height":21}},{"id":3,"definition":{"type":"timeseries","requests":[{"q":"avg:azure.cosmosdb.total_request_units{$tenant,$subscription,$resource_group} by {name}.as_count()","display_type":"area","style":{"palette":"cool","line_type":"solid","line_width":"normal"}}],"custom_links":[],"yaxis":{"label":"","scale":"linear","min":"auto","max":"auto","include_zero":true},"title":"Request Units consumed","title_size":"16","title_align":"left","show_legend":false,"legend_size":"0"},"layout":{"x":79,"y":6,"width":56,"height":15}},{"id":4,"definition":{"type":"note","content":"Locks occur when one query holds a lock on objects in the database while others try to access the same objects. [Learn more](https://docs.microsoft.com/en-us/azure/sql-database/sql-database-monitor-tune-overview)","background_color":"yellow","font_size":"14","text_align":"left","show_tick":false,"tick_pos":"50%","tick_edge":"left"},"layout":{"x":87,"y":88,"width":40,"height":7}},{"id":5,"definition":{"type":"note","content":"Geo-replication is a business continuity solution that enables quick failover to a secondary database in a different Azure region. [Learn more](https://docs.microsoft.com/en-us/azure/sql-database/sql-database-active-geo-replication)","background_color":"yellow","font_size":"14","text_align":"left","show_tick":false,"tick_pos":"50%","tick_edge":"left"},"layout":{"x":144,"y":88,"width":40,"height":9}},{"id":6,"definition":{"type":"note","content":"Storage + Network","background_color":"gray","font_size":"18","text_align":"center","show_tick":false,"tick_pos":"50%","tick_edge":"bottom"},"layout":{"x":22,"y":0,"width":56,"height":5}},{"id":7,"definition":{"type":"note","content":"Utilization","background_color":"gray","font_size":"18","text_align":"center","show_tick":false,"tick_pos":"50%","tick_edge":"bottom"},"layout":{"x":79,"y":0,"width":56,"height":5}},{"id":8,"definition":{"type":"timeseries","requests":[{"q":"avg:azure.cosmosdb.deprecated_available_storage{*}","display_type":"line","style":{"palette":"dog_classic","line_type":"solid","line_width":"normal"}}],"custom_links":[],"yaxis":{"label":"","scale":"linear","min":"auto","max":"auto","include_zero":true},"title":"Total available storage reported","title_size":"16","title_align":"left","show_legend":false},"layout":{"x":22,"y":6,"width":56,"height":15}},{"id":9,"definition":{"type":"query_value","requests":[{"q":"sum:azure.cosmosdb.service_availability{$tenant,$subscription,$resource_group}","aggregator":"avg","conditional_formats":[{"comparator":">","value":0,"palette":"white_on_green"},{"comparator":"<=","value":99,"palette":"white_on_red"}]}],"custom_links":[],"title":"Cosmos DB Status in %","title_size":"16","title_align":"left","time":{"live_span":"1h"},"precision":0},"layout":{"x":0,"y":22,"width":21,"height":15}},{"id":11,"definition":{"type":"timeseries","requests":[{"q":"avg:azure.cosmosdb.total_requests{$tenant,$subscription,$resource_group} by {name}.as_count()","display_type":"area","style":{"palette":"cool","line_type":"solid","line_width":"normal"}}],"custom_links":[],"yaxis":{"label":"","scale":"linear","min":"auto","max":"auto","include_zero":true},"title":"Number of requests made","title_size":"16","title_align":"left","show_legend":false,"legend_size":"0"},"layout":{"x":79,"y":38,"width":56,"height":15}},{"id":12,"definition":{"type":"timeseries","requests":[{"q":"avg:azure.cosmosdb.normalized_ru_consumption{$tenant,$subscription,$resource_group} by {name}","display_type":"area","style":{"palette":"cool","line_type":"solid","line_width":"normal"}}],"custom_links":[],"yaxis":{"label":"","scale":"linear","min":"auto","max":"auto","include_zero":true},"title":"Normalized Request Unit Consumption","title_size":"16","title_align":"left","show_legend":false,"legend_size":"0"},"layout":{"x":79,"y":22,"width":56,"height":15}},{"id":13,"definition":{"type":"timeseries","requests":[{"q":"sum:azure.cosmosdb.server_side_latency{*}","display_type":"line","style":{"palette":"dog_classic","line_type":"solid","line_width":"normal"}}],"custom_links":[],"yaxis":{"label":"","scale":"linear","min":"auto","max":"auto","include_zero":true},"title":"Server Side Latency ","title_size":"16","title_align":"left","show_legend":false},"layout":{"x":22,"y":38,"width":56,"height":15}}],"template_variables":[{"name":"tenant","default":"*","prefix":"tenant_name"},{"name":"subscription","default":"*","prefix":"subscription_name"},{"name":"resource_group","default":"*","prefix":"resource_group"}],"layout_type":"free","is_read_only":false,"notify_list":[],"id":"czi-z4n-wa5"}